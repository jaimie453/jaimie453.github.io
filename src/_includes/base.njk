<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <meta name="color-scheme" content="dark light">
        <title>{{ title }}</title>
        <link
        rel="stylesheet" href="{{ 'css/style.css' | url }}"> <!-- Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link
            href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,400;0,500;0,600;1,400&display=swap"
            rel="stylesheet">
    </head>
    <body>
        {% include "nav.njk" %}
        <main>
            {{ content | safe }}
        </main>
        {% include "footer.html" %}
        {# <script src="index.js"></script> #}
        <script>
            const htmlTag = document.getElementsByTagName("html")[0];
            const themeOptions = document.getElementsByClassName("theme-switcher__radio");

            const theme = localStorage.getItem("theme");
            if(theme) {
                htmlTag.classList.add(theme);
            }

            Array.from(themeOptions).forEach(option => {
                option.addEventListener("change", () => {
                    htmlTag.removeAttribute("class");
                    if (option.value === "system") {
                        localStorage.removeItem("theme");
                    } else {
                        localStorage.setItem("theme", option.value);
                        htmlTag.classList.add(option.value);
                    }
                });
            });
        </script>
    </body>
</html>